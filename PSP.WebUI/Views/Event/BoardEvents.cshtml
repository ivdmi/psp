@using System.Web.Mvc.Html
@model PSP.WebUI.Models.EventsOfDay

@{
    ViewBag.Title = "Редактирование событий";
}

<h2>Редактирование событий</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <p>@Model.UserName</p>
    <p>@Html.EditorFor(model => model.Date)</p>
    <p>@Html.EditorFor(model => model.EventDesc)</p>

    <table class="table table-striped table-bordered table-hover">
        <tbody>

            <tr>
                <th>С</th>
                <th>По</th>
                <th>Предприятие</th>
                <th>Деятельность</th>
                <th>Комментарий</th>
            </tr>

            @for (int i = 0; i < Model.Activities.Count; i++)
            {
                <tr>
                    <td>@Html.EditorFor(m => m.Activities[i].TimeFrom)</td>
                    <td>@Html.EditorFor(m => m.Activities[i].TimeTo)</td>
                    <td>@Html.EditorFor(m => m.Activities[i].Factory)</td>
                    <td>@Html.EditorFor(m => m.Activities[i].ActivityKey)</td>
                    <td>@Html.EditorFor(m => m.Activities[i].Comment)</td>
                </tr>
            }

        </tbody>
    </table>
    <input type="submit" value="Save" />
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
